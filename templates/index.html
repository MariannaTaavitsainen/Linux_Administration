<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <title>Oma LEMP-sivu</title>
    <style>
        body { 
            font-family: sans-serif; 
            background-color: #333333; 
            color: rgba(219, 21, 97, 1); 
            text-align:center; 
            padding-top:50px; 
        }
        .time { font-size: 2em; }

        .image-container {
            position: relative;
            width: 100%;
            height: auto;
            overflow: hidden;
            margin-top: 20px;
            min-height: 200px;
        }

        .moving-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1,1);
            max-width: 200px;
            height: auto;
            border:2px solid #fff;
            border-radius:8px;
        }
    </style>
</head>
<body>
    <h1>Tervetuloa sivulleni!</h1>
    <p>Oli helppoa. Joilleki.</p>

    <div class="image-container">
        <img src="https://images.cdn.yle.fi/image/upload/w_1024,dpr_1.0,fl_lossy,f_auto,q_auto,d_yle-elava-arkisto.jpg/v1599560995/13-26-108691.jpg"
             alt="Tonnin seteli"
             class="moving-image"
             id="moving-image">
    </div>

    <h2>SQL UTC-aika:</h2>
    <div class="time" id="utc-time">{{ utc_time }}</div>

    <script>
        // Päivittyvä UTC-aika
        async function updateTime() {
            try {
                const response = await fetch('/api/utc-time');
                const data = await response.json();
                document.getElementById('utc-time').textContent = data.utc_time;
            } catch (err) {
                console.error("Virhe päivitettäessä aikaa:", err);
            }
        }
        setInterval(updateTime, 1000);

        // Skaalaus kulmittain
        const img = document.getElementById("moving-image");
        let scaleX = 1, scaleY = 1;
        let growing = true;
        const speed = 0.0025; // puolet hitaampi kuin aiemmin

        function animateImage() {
            if (growing) {
                scaleX += speed;
                scaleY += speed;
                if (scaleX >= 2 || scaleY >= 2) growing = false;
            } else {
                scaleX -= speed;
                scaleY -= speed;
                if (scaleX <= 1 || scaleY <= 1) growing = true;
            }

            img.style.transform = `translate(-50%, -50%) scale(${scaleX}, ${scaleY})`;

            requestAnimationFrame(animateImage);
        }

        animateImage();
    </script>
</body>
</html>
