<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <title>Oma LEMP-sivu</title>
    <style>
        body {
            font-family: sans-serif;
            background-color: #333333;
            color: rgba(219, 21, 97, 1);
            text-align: center;
            padding-top: 50px;
            margin: 0;
            min-height: 100vh;
        }

        h1, h2 {
            margin: 20px 0;
        }

        p {
            margin: 15px 0;
            font-size: 1.1em;
        }

        .time {
            font-size: 2em;
            margin: 30px 0;
            font-weight: bold;
        }

        /* Kuvan kontti – keskittää ja antaa tilaa */
        .image-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin: 80px auto 60px; /* reilusti tilaa ylä- ja alapuolelle */
            padding: 20px;
        }

        .moving-image {
            display: block;
            margin: 0 auto;
            max-width: 100%;
            height: auto;
            border: 3px solid #fff;
            border-radius: 10px;
            /* Skaalaus lähtee kuvan keskikohdasta */
            transform-origin: center center;
            transition: none; /* estää viiveet animaatiossa */
        }
    </style>
</head>
<body>
    <h1>Tervetuloa sivulleni!</h1>
    <p>Oli helppoa. Joilleki.</p>

    <!-- Kuvan kontti -->
    <div class="image-container">
        <img src="https://images.cdn.yle.fi/image/upload/w_1024,dpr_1.0,fl_lossy,f_auto,q_auto,d_yle-elava-arkisto.jpg/v1599560995/13-26-108691.jpg"
             alt="Tonnin seteli"
             class="moving-image"
             id="moving-image">
    </div>

    <h2>SQL UTC-aika:</h2>
    <div class="time" id="utc-time">{{ utc_time }}</div>

    <script>
        // Päivittyvä UTC-aika
        async function updateTime() {
            try {
                const response = await fetch('/api/utc-time');
                const data = await response.json();
                document.getElementById('utc-time').textContent = data.utc_time;
            } catch (err) {
                console.error("Virhe päivitettäessä aikaa:", err);
            }
        }
        setInterval(updateTime, 1000);
        updateTime(); // Ensimmäinen kutsu

        // Animaatio: skaalaus kuvan keskeltä
        const img = document.getElementById("moving-image");
        let scale = 1;
        let growing = true;
        const minScale = 1;
        const maxScale = 2;
        const speed = 0.002; // hitaampi, tasaisempi

        function animateImage() {
            if (growing) {
                scale += speed;
                if (scale >= maxScale) growing = false;
            } else {
                scale -= speed;
                if (scale <= minScale) growing = true;
            }

            img.style.transform = `scale(${scale})`;
            requestAnimationFrame(animateImage);
        }

        animateImage();
    </script>
</body>
</html>
